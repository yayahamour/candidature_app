{% extends 'base.html' %} {% block script %}
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var calendarEl = document.getElementById("calendar");

        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: "dayGridMonth",
            // aspectRatio: 2.1,
            initialDate: "2022-02-07",
            headerToolbar: {
                left: "prev,next today",
                center: "title",
                right: "dayGridMonth,timeGridWeek,timeGridDay",
            },

            { %
                for task in events %
            } { %
                for info in even.keys() %
            } { %
                if info not in ['id', 'user_id'] %
            } {
                {
                    events: [even[info]]
                }
            }



            { % endfor %
            } { % endfor %
            },
            eventClick: function(info) {
                info.jsEvent.preventDefault(); // don't let the browser navigate

                if (info.event.url) {
                    window.open(info.event.url);
                }
            },
        });
        calendar.render();
    });
</script>
{% endblock %} {% block content %} {% block button %}
<div class="collapse navbar-collapse col-7" id="navbar">
    <ul class="navbar-nav">
        {% if current_user.is_authenticated %}
        <li class="nav-item ml-3">
            <a class="nav-link" href="{{ url_for('add') }}">Add Event</a>
        </li>
    </ul>
    {% endif %} {% endblock %}
</div>
<div class="container my-3">
    <div id="calendar" style="border: 1px solid silver"></div>
</div>
{% endblock %}
</div>